<UserControl
    x:Class="WinTube.Controls.Shimmer"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:WinTube.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="300"
    d:DesignWidth="400"
    mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.ThemeDictionaries>
                <ResourceDictionary x:Key="Light">
                    <Color x:Key="ShimmerBaseColor">#FFF0F0F0</Color>
                    <Color x:Key="ShimmerHighlightColor">#FFFFFFFF</Color>
                </ResourceDictionary>
                <ResourceDictionary x:Key="Dark">
                    <Color x:Key="ShimmerBaseColor">#FF1E1E1E</Color>
                    <Color x:Key="ShimmerHighlightColor">#FF3A3A3A</Color>
                </ResourceDictionary>
            </ResourceDictionary.ThemeDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <Border x:Name="ShimmerBorder">
            <Grid>
                <Rectangle Name="ShimmerRect" Opacity="0.6">
                    <Rectangle.Fill>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop x:Name="gs1" Offset="0" Color="#00FFFFFF" />
                            <GradientStop x:Name="gs2" Offset="0.25" Color="#80FFFFFF" />
                            <GradientStop x:Name="gs3" Offset="0.5" Color="#00FFFFFF" />
                        </LinearGradientBrush>
                    </Rectangle.Fill>
                </Rectangle>
            </Grid>

            <Border.Resources>
                <Storyboard x:Key="ShimmerStoryboard" RepeatBehavior="Forever">
                    <DoubleAnimation
                        EnableDependentAnimation="True"
                        Storyboard.TargetName="gs1"
                        Storyboard.TargetProperty="Offset"
                        From="-1"
                        To="1"
                        Duration="0:0:1" />
                    <DoubleAnimation
                        EnableDependentAnimation="True"
                        Storyboard.TargetName="gs2"
                        Storyboard.TargetProperty="Offset"
                        From="-0.5"
                        To="1.5"
                        Duration="0:0:1" />
                    <DoubleAnimation
                        EnableDependentAnimation="True"
                        Storyboard.TargetName="gs3"
                        Storyboard.TargetProperty="Offset"
                        From="0"
                        To="2"
                        Duration="0:0:1" />
                </Storyboard>
            </Border.Resources>
        </Border>
    </Grid>
</UserControl>
